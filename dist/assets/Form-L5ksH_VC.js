import{g as Ne,r as V,o as xe,w as X,i as le,a as ce,b as Le,c as z,d as Te,e as Ie,u as w,f as he,p as me,n as ve,_ as ke,h as Ee,j as Ce,k as W,l as k,m as E,q as f,s as Ae,t as o,F as De,v as Fe,x as S,y as Ue,z as Ge,A as se,B as P,C as A,D as b,E as x,G as J,H as oe,I as We,J as ge}from"./index-rKvIkbpu.js";import{A as ie,S as Be,C as Ye,G as Me,s as ne}from"./GraduationYear-SKJd3anS.js";import{C as qe}from"./ClientEventService-ZeAPHePK.js";function fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,s)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?fe(Object(a),!0).forEach(function(s){He(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fe(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function He(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function pe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.keys(e).reduce((a,s)=>(t.includes(s)||(a[s]=w(e[s])),a),{})}function te(e){return typeof e=="function"}function Ze(e){return Te(e)||Ie(e)}function Re(e,t,a){let s=e;const n=t.split(".");for(let h=0;h<n.length;h++){if(!s[n[h]])return a;s=s[n[h]]}return s}function ae(e,t,a){return z(()=>e.some(s=>Re(t,s,{[a]:!1})[a]))}function ye(e,t,a){return z(()=>e.reduce((s,n)=>{const h=Re(t,n,{[a]:!1})[a]||[];return s.concat(h)},[]))}function Se(e,t,a,s){return e.call(s,w(t),w(a),s)}function ze(e){return e.$valid!==void 0?!e.$valid:!e}function Je(e,t,a,s,n,h,y){let{$lazy:i,$rewardEarly:l}=n,d=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],_=arguments.length>8?arguments[8]:void 0,p=arguments.length>9?arguments[9]:void 0,R=arguments.length>10?arguments[10]:void 0;const $=V(!!s.value),r=V(0);a.value=!1;const g=X([t,s].concat(d,R),()=>{if(i&&!s.value||l&&!p.value&&!a.value)return;let u;try{u=Se(e,t,_,y)}catch(C){u=Promise.reject(C)}r.value++,a.value=!!r.value,$.value=!1,Promise.resolve(u).then(C=>{r.value--,a.value=!!r.value,h.value=C,$.value=ze(C)}).catch(C=>{r.value--,a.value=!!r.value,h.value=C,$.value=!0})},{immediate:!0,deep:typeof t=="object"});return{$invalid:$,$unwatch:g}}function Ke(e,t,a,s,n,h,y,i){let{$lazy:l,$rewardEarly:d}=s;const _=()=>({}),p=z(()=>{if(l&&!a.value||d&&!i.value)return!1;let R=!0;try{const $=Se(e,t,y,h);n.value=$,R=ze($)}catch($){n.value=$}return R});return{$unwatch:_,$invalid:p}}function Qe(e,t,a,s,n,h,y,i,l,d,_){const p=V(!1),R=e.$params||{},$=V(null);let r,g;e.$async?{$invalid:r,$unwatch:g}=Je(e.$validator,t,p,a,s,$,n,e.$watchTargets,l,d,_):{$invalid:r,$unwatch:g}=Ke(e.$validator,t,a,s,$,n,l,d);const u=e.$message;return{$message:te(u)?z(()=>u(pe({$pending:p,$invalid:r,$params:pe(R),$model:t,$response:$,$validator:h,$propertyPath:i,$property:y}))):u||"",$params:R,$pending:p,$invalid:r,$response:$,$unwatch:g}}function Xe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=w(e),a=Object.keys(t),s={},n={},h={};let y=null;return a.forEach(i=>{const l=t[i];switch(!0){case te(l.$validator):s[i]=l;break;case te(l):s[i]={$validator:l};break;case i==="$validationGroups":y=l;break;case i.startsWith("$"):h[i]=l;break;default:n[i]=l}}),{rules:s,nestedValidators:n,config:h,validationGroups:y}}const et="__root";function tt(e,t,a,s,n,h,y,i,l){const d=Object.keys(e),_=s.get(n,e),p=V(!1),R=V(!1),$=V(0);if(_){if(!_.$partial)return _;_.$unwatch(),p.value=_.$dirty.value}const r={$dirty:p,$path:n,$touch:()=>{p.value||(p.value=!0)},$reset:()=>{p.value&&(p.value=!1)},$commit:()=>{}};return d.length?(d.forEach(g=>{r[g]=Qe(e[g],t,r.$dirty,h,y,g,a,n,l,R,$)}),r.$externalResults=z(()=>i.value?[].concat(i.value).map((g,u)=>({$propertyPath:n,$property:a,$validator:"$externalResults",$uid:`${n}-externalResult-${u}`,$message:g,$params:{},$response:null,$pending:!1})):[]),r.$invalid=z(()=>{const g=d.some(u=>w(r[u].$invalid));return R.value=g,!!r.$externalResults.value.length||g}),r.$pending=z(()=>d.some(g=>w(r[g].$pending))),r.$error=z(()=>r.$dirty.value?r.$pending.value||r.$invalid.value:!1),r.$silentErrors=z(()=>d.filter(g=>w(r[g].$invalid)).map(g=>{const u=r[g];return ce({$propertyPath:n,$property:a,$validator:g,$uid:`${n}-${g}`,$message:u.$message,$params:u.$params,$response:u.$response,$pending:u.$pending})}).concat(r.$externalResults.value)),r.$errors=z(()=>r.$dirty.value?r.$silentErrors.value:[]),r.$unwatch=()=>d.forEach(g=>{r[g].$unwatch()}),r.$commit=()=>{R.value=!0,$.value=Date.now()},s.set(n,e,r),r):(_&&s.set(n,e,r),r)}function st(e,t,a,s,n,h,y){const i=Object.keys(e);return i.length?i.reduce((l,d)=>(l[d]=de({validations:e[d],state:t,key:d,parentKey:a,resultsCache:s,globalConfig:n,instance:h,externalResults:y}),l),{}):{}}function ot(e,t,a){const s=z(()=>[t,a].filter(r=>r).reduce((r,g)=>r.concat(Object.values(w(g))),[])),n=z({get(){return e.$dirty.value||(s.value.length?s.value.every(r=>r.$dirty):!1)},set(r){e.$dirty.value=r}}),h=z(()=>{const r=w(e.$silentErrors)||[],g=s.value.filter(u=>(w(u).$silentErrors||[]).length).reduce((u,C)=>u.concat(...C.$silentErrors),[]);return r.concat(g)}),y=z(()=>{const r=w(e.$errors)||[],g=s.value.filter(u=>(w(u).$errors||[]).length).reduce((u,C)=>u.concat(...C.$errors),[]);return r.concat(g)}),i=z(()=>s.value.some(r=>r.$invalid)||w(e.$invalid)||!1),l=z(()=>s.value.some(r=>w(r.$pending))||w(e.$pending)||!1),d=z(()=>s.value.some(r=>r.$dirty)||s.value.some(r=>r.$anyDirty)||n.value),_=z(()=>n.value?l.value||i.value:!1),p=()=>{e.$touch(),s.value.forEach(r=>{r.$touch()})},R=()=>{e.$commit(),s.value.forEach(r=>{r.$commit()})},$=()=>{e.$reset(),s.value.forEach(r=>{r.$reset()})};return s.value.length&&s.value.every(r=>r.$dirty)&&p(),{$dirty:n,$errors:y,$invalid:i,$anyDirty:d,$error:_,$pending:l,$touch:p,$reset:$,$silentErrors:h,$commit:R}}function de(e){let{validations:t,state:a,key:s,parentKey:n,childResults:h,resultsCache:y,globalConfig:i={},instance:l,externalResults:d}=e;const _=n?`${n}.${s}`:s,{rules:p,nestedValidators:R,config:$,validationGroups:r}=Xe(t),g=B(B({},i),$),u=s?z(()=>{const O=w(a);return O?w(O[s]):void 0}):a,C=B({},w(d)||{}),Y=z(()=>{const O=w(d);return s?O?w(O[s]):void 0:O}),I=tt(p,u,s,y,_,g,l,Y,a),N=st(R,u,_,y,g,l,Y),M={};r&&Object.entries(r).forEach(O=>{let[Z,G]=O;M[Z]={$invalid:ae(G,N,"$invalid"),$error:ae(G,N,"$error"),$pending:ae(G,N,"$pending"),$errors:ye(G,N,"$errors"),$silentErrors:ye(G,N,"$silentErrors")}});const{$dirty:L,$errors:Q,$invalid:D,$anyDirty:q,$error:H,$pending:F,$touch:U,$reset:c,$silentErrors:m,$commit:j}=ot(I,N,h),v=s?z({get:()=>w(u),set:O=>{L.value=!0;const Z=w(a),G=w(d);G&&(G[s]=C[s]),le(Z[s])?Z[s].value=O:Z[s]=O}}):null;s&&g.$autoDirty&&X(u,()=>{L.value||U();const O=w(d);O&&(O[s]=C[s])},{flush:"sync"});async function Pe(){return U(),g.$rewardEarly&&(j(),await ve()),await ve(),new Promise(O=>{if(!F.value)return O(!D.value);const Z=X(F,()=>{O(!D.value),Z()})})}function Ve(O){return(h.value||{})[O]}function je(){le(d)?d.value=C:Object.keys(C).length===0?Object.keys(d).forEach(O=>{delete d[O]}):Object.assign(d,C)}return ce(B(B(B({},I),{},{$model:v,$dirty:L,$error:H,$errors:Q,$invalid:D,$anyDirty:q,$pending:F,$touch:U,$reset:c,$path:_||et,$silentErrors:m,$validate:Pe,$commit:j},h&&{$getResultsForChild:Ve,$clearExternalResults:je,$validationGroups:M}),N))}class nt{constructor(){this.storage=new Map}set(t,a,s){this.storage.set(t,{rules:a,result:s})}checkRulesValidity(t,a,s){const n=Object.keys(s),h=Object.keys(a);return h.length!==n.length||!h.every(i=>n.includes(i))?!1:h.every(i=>a[i].$params?Object.keys(a[i].$params).every(l=>w(s[i].$params[l])===w(a[i].$params[l])):!0)}get(t,a){const s=this.storage.get(t);if(!s)return;const{rules:n,result:h}=s,y=this.checkRulesValidity(t,a,n),i=h.$unwatch?h.$unwatch:()=>({});return y?h:{$dirty:h.$dirty,$partial:!0,$unwatch:i}}}const ee={COLLECT_ALL:!0,COLLECT_NONE:!1},_e=Symbol("vuelidate#injectChildResults"),$e=Symbol("vuelidate#removeChildResults");function at(e){let{$scope:t,instance:a}=e;const s={},n=V([]),h=z(()=>n.value.reduce((_,p)=>(_[p]=w(s[p]),_),{}));function y(_,p){let{$registerAs:R,$scope:$,$stopPropagation:r}=p;r||t===ee.COLLECT_NONE||$===ee.COLLECT_NONE||t!==ee.COLLECT_ALL&&t!==$||(s[R]=_,n.value.push(R))}a.__vuelidateInjectInstances=[].concat(a.__vuelidateInjectInstances||[],y);function i(_){n.value=n.value.filter(p=>p!==_),delete s[_]}a.__vuelidateRemoveInstances=[].concat(a.__vuelidateRemoveInstances||[],i);const l=he(_e,[]);me(_e,a.__vuelidateInjectInstances);const d=he($e,[]);return me($e,a.__vuelidateRemoveInstances),{childResults:h,sendValidationResultsToParent:l,removeValidationResultsFromParent:d}}function Oe(e){return new Proxy(e,{get(t,a){return typeof t[a]=="object"?Oe(t[a]):z(()=>t[a])}})}let be=0;function rt(e,t){var a;let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};arguments.length===1&&(s=e,e=void 0,t=void 0);let{$registerAs:n,$scope:h=ee.COLLECT_ALL,$stopPropagation:y,$externalResults:i,currentVueInstance:l}=s;const d=l||((a=Ne())===null||a===void 0?void 0:a.proxy),_=d?d.$options:{};n||(be+=1,n=`_vuelidate_${be}`);const p=V({}),R=new nt,{childResults:$,sendValidationResultsToParent:r,removeValidationResultsFromParent:g}=d?at({$scope:h,instance:d}):{childResults:V({})};if(!e&&_.validations){const u=_.validations;t=V({}),xe(()=>{t.value=d,X(()=>te(u)?u.call(t.value,new Oe(t.value)):u,C=>{p.value=de({validations:C,state:t,childResults:$,resultsCache:R,globalConfig:s,instance:d,externalResults:i||d.vuelidateExternalResults})},{immediate:!0})}),s=_.validationsConfig||s}else{const u=le(e)||Ze(e)?e:ce(e||{});X(u,C=>{p.value=de({validations:C,state:t,childResults:$,resultsCache:R,globalConfig:s,instance:d??{},externalResults:i})},{immediate:!0})}return d&&(r.forEach(u=>u(p,{$registerAs:n,$scope:h,$stopPropagation:y})),Le(()=>g.forEach(u=>u(n)))),z(()=>B(B({},w(p.value)),$.value))}const ue=e=>{if(e=w(e),Array.isArray(e))return!!e.length;if(e==null)return!1;if(e===!1)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(let t in e)return!0;return!1}return!!String(e).length},lt=e=>(e=w(e),Array.isArray(e)?e.length:typeof e=="object"?Object.keys(e).length:String(e).length);function K(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return s=>(s=w(s),!ue(s)||t.every(n=>(n.lastIndex=0,n.test(s))))}K(/^[a-zA-Z]*$/);K(/^[a-zA-Z0-9]*$/);K(/^\d*(\.\d+)?$/);const it=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var dt=K(it),we={$validator:dt,$message:"Value is not a valid email address",$params:{type:"email"}};function ct(e){return t=>!ue(t)||lt(t)>=w(e)}function re(e){return{$validator:ct(e),$message:t=>{let{$params:a}=t;return`This field should be at least ${a.min} characters long`},$params:{min:e,type:"minLength"}}}function ut(e){return typeof e=="string"&&(e=e.trim()),ue(e)}var T={$validator:ut,$message:"Value is required",$params:{type:"required"}};const ht=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;K(ht);K(/(^[0-9]*$)|(^-[0-9]+$)/);K(/^[-]?\d*(\.\d+)?$/);const mt=Ee({name:"lead-input",props:{data:String},setup(e,{emit:t}){const a=V(!1),s=V(),n=V(),h=async()=>{a.value=!0;const i="v1/get/leads";try{a.value=!1;const l=await ie.get(i);n.value=l.data,s.value=e.data}catch(l){a.value=!1,console.error(l)}},y=()=>{t("check",{key:"lead_source_id",value:s.value})};return Ce(()=>{h()}),{loading:a,selected_data:s,lead_list:n,selectData:y}}});function vt(e,t,a,s,n,h){const y=W("v-select");return k(),E("div",null,[f(y,{modelValue:e.selected_data,"onUpdate:modelValue":t[0]||(t[0]=i=>e.selected_data=i),options:e.lead_list,reduce:i=>i.lead_id,label:"lead","onOption:selected":e.selectData,clearable:!1,placeholder:"Select the value",loading:e.loading},null,8,["modelValue","options","reduce","onOption:selected","loading"])])}const gt=ke(mt,[["render",vt]]),ft=Ee({name:"form-event",props:{formType:String,eventId:String,eventType:String,status:String,attendStatus:String,type:String},components:{School:Be,LeadSource:gt,Country:Ye,GraduationYear:Me},setup(e){const t=V(null),a=V(1),s=V(!1),n=V({role:"student",fullname:"",mail:"",phone:"",secondary_name:"",secondary_email:"",secondary_phone:"",school_id:"",other_school:"",graduation_year:"",destination_country:[],scholarship:"N",lead_source_id:"",event_id:"",attend_status:"",attend_party:1,event_type:"",status:"PR",referral:"",client_type:"",have_child:!1}),h=V(),y=V(),i=z(()=>({fullname:{required:T,minLength:re(3)},mail:{required:T,email:we},phone:{required:T,minLength:re(10)},role:{required:T},secondary_name:{required:T},secondary_email:{email:we},secondary_phone:{minLength:re(5)},school_id:{required:T},graduation_year:{required:T},destination_country:{required:T},scholarship:{required:T},lead_source_id:{required:T}})),l=V([{value:"Y",label:"Yes"},{value:"N",label:"No"}]),d=(c=null)=>{C(c==null?void 0:c.key),n.value[c.key]=c==null?void 0:c.value,L()},_=c=>{n.value[c==null?void 0:c.key]=c==null?void 0:c.value},p=["fullname","mail","phone","role"],R=["school_id","graduation_year","destination_country","scholarship","lead_source_id"],$=["secondary_name","school_id","graduation_year","destination_country","scholarship","lead_source_id"],r=["lead_source_id"],g=["school_id","lead_source_id"],u=rt(i,n),C=c=>{u.value[c].$touch(),(c=="phone"||c=="secondary_phone")&&M(c),L()},Y=()=>{n.value.role=="parent"?n.value.have_child=!0:(n.value.secondary_name="",n.value.secondary_email="",n.value.secondary_phone="",n.value.have_child=!1)},I=c=>u.value[c].$error,N=c=>{let m=[];return c.forEach(j=>{u.value[j].$validate(),u.value[j].$invalid?m.push(!1):m.push(!0)}),!m.includes(!1)},M=c=>{const j=n.value[c].toString().replace(/(\d{4})(\d{4})(\d{2,4})/,"$1-$2-$3");n.value[c]=j},L=()=>{const c=[];for(let m=0;m<p.length;m++)n.value[p[m]]?I(p[m])?c.push(0):c.push(50/p.length,0):c.push(0);if(a.value==2){let m=[];switch(n.value.role){case"parent":n.value.have_child?m=$:m=r;break;case"teacher/counsellor":m=g;break;case"student":m=R;break}for(let j=0;j<m.length;j++)n.value[m[j]]?I(m[j])?c.push(0):c.push(50/m.length,0):c.push(0)}t.value=c.reduce((m,j)=>m+j,0)},Q=()=>{L(),s.value=!0,N(p)&&(a.value=2),setTimeout(()=>{s.value=!1},500)},D=()=>{const c=n.value.role;var m=!1;switch(c){case"parent":n.value.have_child?m=N($):m=N(r);break;case"teacher/counsellor":m=N(g);break;case"student":m=N(R);break}m&&q()},q=async()=>{s.value=!0;const c="v1/register/event";try{const m=await ie.post(c,n.value);console.log(m),m.success?(ne("success",m.message),setTimeout(()=>{qe.saveClientEvent(m),ge.push({name:"thanks-event",params:{status:n.value.status=="PR"?"pra-reg":"ots",type:e.type=="onsite"?"onsite":"self"}}),U()},2e3)):(h.value=m.error,ne("error",m.message?m.message:"Please check errors by clicking the bottom right button")),s.value=!1}catch(m){console.error(m),s.value=!1}},H=async()=>{const c="v1/event/"+n.value.event_id;try{const m=await ie.get(c);m.success?y.value=m.data:(ne("error",m.message),setTimeout(()=>{ge.push({name:"NotFound"})},2e3))}catch(m){console.error(m)}},F=()=>{var c;n.value.event_id=e==null?void 0:e.eventId,n.value.event_type=e.eventType?e==null?void 0:e.eventType:null,n.value.status=e.status?(c=e==null?void 0:e.status)==null?void 0:c.toUpperCase():"PR",n.value.attend_status=e.attendStatus?e==null?void 0:e.attendStatus:null},U=()=>{n.value.role="student",n.value.fullname="",n.value.mail="",n.value.phone="",n.value.secondary_name="",n.value.secondary_email="",n.value.secondary_phone="",n.value.school_id="",n.value.other_school="",n.value.graduation_year="",n.value.destination_country=[],n.value.scholarship="N",n.value.lead_source_id="",n.value.event_id="",n.value.attend_status="",n.value.attend_party="",n.value.event_type="",n.value.status="PR",n.value.referral="",n.value.client_type="",n.value.have_child=!1};return Ce(()=>{F(),H()}),{step:a,loading:s,errors:h,progress:t,registration:n,scholarship_list:l,rules:i,validate:u,event:y,checkRole:Y,checkComponent:d,newData:_,touchField:C,shouldShowError:I,nextAdditional:Q,nextProcess:D,submit:q,getEvent:H}}}),pt=["id"],yt={class:"container"},_t={class:"row justify-content-center align-items-center",style:{"min-height":"100dvh"}},$t={class:"position-fixed",style:{bottom:"2%",left:"95%","z-index":"9999"}},bt={key:0,class:"dropdown"},wt={class:"btn btn-danger btn-sm dropdown-toggle",style:{"font-size":"10px"},type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},kt={class:"dropdown-menu"},Et={class:"col-md-12"},Ct={class:"text-end"},Rt={class:"btn btn-sm btn-outline-primary mb-2"},St={class:"row justify-content-center align-items-stretch g-1"},zt={key:0,class:"col-md-4 col-form"},Ot={class:"progress rounded-pill m-2",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100",style:{height:"4px"}},Pt={class:"card-body p-0 d-flex align-items-end justify-content-center"},Vt={class:"w-100 d-flex align-items-center justify-content-center py-2 rounded",style:{background:"#251b815b"}},jt={class:"text-white text-center px-3"},Nt={class:"col-md-8"},xt={key:0,class:"progress rounded-pill",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100",style:{height:"4px"}},Lt={key:1,class:"card rounded-0 shadow"},Tt={class:"p-3 d-flex align-items-center justify-content-between"},It=o("h3",{class:"my-0"},"Let us know you better!",-1),At={class:"text-muted"},Dt={class:"row g-3"},Ft={class:"col-md-4"},Ut={class:"text-muted label"},Gt=o("span",{class:"text-danger"},"*",-1),Wt={key:0,class:"text-danger error"},Bt={class:"col-md-4"},Yt={class:"text-muted label"},Mt=o("span",{class:"text-danger"},"*",-1),qt={key:0,class:"text-danger error"},Ht={class:"col-md-4"},Zt={class:"text-muted label"},Jt=o("span",{class:"text-danger"},"*",-1),Kt={key:0,class:"text-danger error"},Qt={class:"col-md-12 mt-3"},Xt=o("label",{class:"text-muted"},[b("You are a "),o("span",{class:"text-danger"},"*")],-1),es={key:0,class:"text-danger error"},ts={class:"row row-cols-md-3 row-cols-3 g-3"},ss={class:"col"},os={class:"role"},ns={alt:"student"},as=o("label",{class:"role-label",for:"studentRole"},null,-1),rs={class:"col"},ls={class:"role"},is={alt:"parent"},ds=o("label",{class:"role-label",for:"parentRole"},null,-1),cs={class:"col"},us={class:"role"},hs={alt:"teacher"},ms=o("label",{class:"role-label",for:"teacherRole"},null,-1),vs={class:"card-footer d-flex align-items-center justify-content-end"},gs=["disabled"],fs={key:2,class:"card shadow"},ps={class:"p-3 d-flex align-items-center justify-content-between"},ys=o("h3",{class:"my-0"},"Let us know you better!",-1),_s={class:"text-muted label"},$s={key:0,class:"row g-3"},bs={class:"col-md-12"},ws={class:"text-muted label"},ks=o("span",{class:"text-danger"},"*",-1),Es={key:0,class:"text-danger error"},Cs={class:"col-md-12"},Rs={class:"text-muted label"},Ss=o("span",{class:"text-danger"},"*",-1),zs={key:0,class:"text-danger error"},Os={class:"col-md-12"},Ps={class:"text-muted label"},Vs=o("span",{class:"text-danger"},"*",-1),js={key:0,class:"text-danger error"},Ns={key:1,class:"row g-3"},xs={class:"col-md-12"},Ls={class:"row"},Ts={class:"col-9"},Is={class:"text-muted label"},As=o("strong",null,"Do you have a child?",-1),Ds={class:"col-3 d-flex justify-content-end"},Fs={class:"form-check form-switch"},Us=["checked"],Gs=o("label",{class:"form-check-label",for:"haveChild"},null,-1),Ws={key:0,class:"col-md-12"},Bs={class:"row g-3"},Ys={class:"col-md-4"},Ms={class:"text-muted label"},qs=o("span",{class:"text-danger"},"*",-1),Hs={key:0,class:"text-danger error"},Zs={class:"col-md-4"},Js={class:"text-muted label"},Ks={key:0,class:"text-danger error"},Qs={class:"col-md-4"},Xs={class:"text-muted label"},eo={key:0,class:"text-danger error"},to={class:"col-md-12"},so={class:"text-muted label"},oo=o("span",{class:"text-danger"},"*",-1),no={key:0,class:"text-danger error"},ao={class:"col-md-12"},ro={class:"text-muted label"},lo=o("span",{class:"text-danger"},"*",-1),io={key:0,class:"text-danger error"},co={class:"col-md-12"},uo={class:"text-muted label"},ho=o("span",{class:"text-danger"},"*",-1),mo={key:0,class:"text-danger error"},vo={key:2,class:"row g-3"},go={class:"col-md-12"},fo={class:"text-muted label"},po=o("span",{class:"text-danger"},"*",-1),yo={key:0,class:"text-danger error"},_o={class:"row mt-3"},$o={class:"text-muted label"},bo=o("span",{class:"text-danger"},"*",-1),wo={key:0,class:"text-danger error"},ko={key:0,class:"col-md-3"},Eo={class:"text-muted label"},Co=o("span",{class:"text-danger"},"*",-1),Ro={class:"card-footer d-flex align-items-center justify-content-between"},So=["disabled"],zo=["disabled"];function Oo(e,t,a,s,n,h){var r,g,u,C,Y,I,N,M,L,Q,D,q,H,F,U,c,m,j;const y=W("font-awesome-icon"),i=W("router-link"),l=W("box-icon"),d=W("School"),_=W("GraduationYear"),p=W("Country"),R=W("LeadSource"),$=Ae("lazy");return k(),E("div",{id:e.formType=="cta"?"registration":""},[o("div",yt,[o("div",_t,[o("div",$t,[e.errors?(k(),E("div",bt,[o("button",wt,[f(y,{icon:"fa-info-circle",class:""})]),o("ul",kt,[(k(!0),E(De,null,Fe(e.errors,v=>(k(),E("li",{key:v,class:"dropdown-item my-0 py-0"},[f(y,{icon:"fa-info",class:"text-warning me-2"}),b(" "+P(v[0]),1)]))),128))])])):S("",!0)]),o("div",Et,[o("div",Ct,[e.status=="ots"&&e.type=="onsite"?(k(),Ue(i,{key:0,to:{name:"home"}},{default:Ge(()=>[o("div",Rt,[f(y,{icon:"fa-home",class:"me-2"}),b(" Back to Home ")])]),_:1})):S("",!0)]),o("div",St,[e.formType=="cta"?(k(),E("div",zt,[o("div",{class:"card h-100 bg-form rounded shadow",style:se((r=e.event)!=null&&r.event_banner?"background: url("+((g=e.event)==null?void 0:g.event_banner)+")":"background: url(/img/bg.jpg)")},[o("div",Ot,[o("div",{class:"progress-bar bg-success",style:se("width:"+e.progress+"%")},null,4)]),o("div",Pt,[o("div",Vt,[o("h5",jt,P((u=e.event)==null?void 0:u.event_name),1)])])],4)])):S("",!0),o("div",Nt,[e.formType!="cta"?(k(),E("div",xt,[o("div",{class:"progress-bar bg-success",style:se("width:"+e.progress+"%")},null,4)])):S("",!0),e.step==1?(k(),E("div",Lt,[o("div",Tt,[It,o("small",At,"Page "+P(e.step)+" of 2",1)]),o("div",{class:A(["card-body",{"registration-card":e.formType=="cta"}])},[o("div",Dt,[o("div",Ft,[o("small",Ut,[f(l,{name:"user-rectangle",type:"solid",size:"xs",color:"#797575"}),b(" Full Name "),Gt]),x(o("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=v=>e.registration.fullname=v),class:A(["form-control",{"is-invalid":e.shouldShowError("fullname"),"is-valid":!e.shouldShowError("fullname")&&e.registration.fullname}]),onInput:t[1]||(t[1]=v=>e.touchField("fullname"))},null,34),[[J,e.registration.fullname]]),e.shouldShowError("fullname")?(k(),E("small",Wt,[f(l,{name:"info-circle",animation:"tada",size:"12px",color:"#d21414",className:"me-1"}),b(" "+P((C=e.validate.fullname.$silentErrors[0])==null?void 0:C.$message),1)])):S("",!0)]),o("div",Bt,[o("small",Yt,[f(l,{name:"envelope",size:"xs",color:"#797575"}),b(" Email "),Mt]),x(o("input",{type:"email","onUpdate:modelValue":t[2]||(t[2]=v=>e.registration.mail=v),class:A(["form-control",{"is-invalid":e.shouldShowError("mail"),"is-valid":!e.shouldShowError("mail")&&e.registration.mail}]),onInput:t[3]||(t[3]=v=>e.touchField("mail"))},null,34),[[J,e.registration.mail]]),e.shouldShowError("mail")?(k(),E("small",qt,[f(l,{name:"info-circle",animation:"tada",size:"12px",color:"#d21414",className:"me-1"}),b(" "+P((Y=e.validate.mail.$silentErrors[0])==null?void 0:Y.$message),1)])):S("",!0)]),o("div",Ht,[o("small",Zt,[f(l,{name:"mobile",size:"xs",color:"#797575"}),b(" Phone "),Jt]),x(o("input",{type:"tel","onUpdate:modelValue":t[4]||(t[4]=v=>e.registration.phone=v),class:A(["form-control",{"is-invalid":e.shouldShowError("phone"),"is-valid":!e.shouldShowError("phone")&&e.registration.phone}]),onInput:t[5]||(t[5]=v=>e.touchField("phone"))},null,34),[[J,e.registration.phone]]),e.shouldShowError("phone")?(k(),E("small",Kt,[f(l,{name:"info-circle",animation:"tada",size:"12px",color:"#d21414",className:"me-1"}),b(" "+P((I=e.validate.phone.$silentErrors[0])==null?void 0:I.$message),1)])):S("",!0)]),o("div",Qt,[Xt,e.shouldShowError("role")?(k(),E("small",es,[f(l,{name:"info-circle",animation:"tada",size:"12px",color:"#d21414",className:"me-1"}),b(" "+P((N=e.validate.role.$silentErrors[0])==null?void 0:N.$message),1)])):S("",!0),o("div",ts,[o("div",ss,[o("div",os,[x(o("img",ns,null,512),[[$,"/img/student.webp"]]),x(o("input",{class:"role-input",type:"radio",name:"role","onUpdate:modelValue":t[6]||(t[6]=v=>e.registration.role=v),value:"student",id:"studentRole",onChange:t[7]||(t[7]=(...v)=>e.checkRole&&e.checkRole(...v))},null,544),[[oe,e.registration.role]]),as])]),o("div",rs,[o("div",ls,[x(o("img",is,null,512),[[$,"/img/parent.webp"]]),x(o("input",{class:"role-input",type:"radio",name:"role",id:"parentRole","onUpdate:modelValue":t[8]||(t[8]=v=>e.registration.role=v),value:"parent",onChange:t[9]||(t[9]=(...v)=>e.checkRole&&e.checkRole(...v))},null,544),[[oe,e.registration.role]]),ds])]),o("div",cs,[o("div",us,[x(o("img",hs,null,512),[[$,"/img/teacher.webp"]]),x(o("input",{class:"role-input",type:"radio",name:"role",id:"teacherRole","onUpdate:modelValue":t[10]||(t[10]=v=>e.registration.role=v),value:"teacher/counsellor",onChange:t[11]||(t[11]=(...v)=>e.checkRole&&e.checkRole(...v))},null,544),[[oe,e.registration.role]]),ms])])])])])],2),o("div",vs,[o("button",{class:"btn btn-sm btn-primary rounded-pill px-3",onClick:t[12]||(t[12]=(...v)=>e.nextAdditional&&e.nextAdditional(...v)),disabled:e.loading},[b(P(e.loading?"Waiting":"Next")+" ",1),f(y,{icon:e.loading?"fa-solid fa-spinner":"fa-solid fa-arrow-right",class:"ms-2",pulse:e.loading},null,8,["icon","pulse"])],8,gs)])])):S("",!0),e.step==2?(k(),E("div",fs,[o("div",ps,[ys,o("small",_s,[f(l,{name:"right-arrow-alt",size:"xs",color:"#797575"}),b(" Page "+P(e.step)+" of 2",1)])]),o("div",{class:A(["card-body",{"registration-card":e.formType=="cta"}])},[e.registration.role=="student"?(k(),E("div",$s,[o("div",bs,[o("small",ws,[f(l,{name:"school",type:"solid",size:"xs",color:"#797575"}),b(" Which school are you from? "),ks]),f(d,{data:e.registration.school_id,onCheck:e.checkComponent,onNew:e.newData},null,8,["data","onCheck","onNew"]),e.shouldShowError("school_id")?(k(),E("small",Es,[f(l,{name:"info-circle",animation:"tada",size:"12px",color:"#d21414",className:"me-1"}),b(" "+P((M=e.validate.school_id.$silentErrors[0])==null?void 0:M.$message),1)])):S("",!0)]),o("div",Cs,[o("small",Rs,[f(l,{name:"graduation",type:"solid",size:"xs",color:"#797575"}),b(" When do you expect to graduate high school? "),Ss]),f(_,{data:e.registration.graduation_year,onCheck:e.checkComponent},null,8,["data","onCheck"]),e.shouldShowError("graduation_year")?(k(),E("small",zs,[f(l,{name:"info-circle",animation:"tada",size:"12px",color:"#d21414",className:"me-1"}),b(" "+P((L=e.validate.graduation_year.$silentErrors[0])==null?void 0:L.$message),1)])):S("",!0)]),o("div",Os,[o("small",Ps,[f(l,{name:"flag-alt",type:"solid",size:"xs",color:"#797575"}),b(" Which country are you thinking of studying in? "),Vs]),f(p,{data:e.registration.destination_country,onCheck:e.checkComponent},null,8,["data","onCheck"]),e.shouldShowError("destination_country")?(k(),E("small",js,P((Q=e.validate.destination_country.$silentErrors[0])==null?void 0:Q.$message),1)):S("",!0)])])):S("",!0),e.registration.role=="parent"?(k(),E("div",Ns,[o("div",xs,[o("div",Ls,[o("div",Ts,[o("small",Is,[f(l,{name:"child",size:"15px",color:"#797575"}),As])]),o("div",Ds,[o("div",Fs,[x(o("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"haveChild","onUpdate:modelValue":t[13]||(t[13]=v=>e.registration.have_child=v),checked:e.registration.have_child},null,8,Us),[[We,e.registration.have_child]]),Gs])])])]),e.registration.have_child?(k(),E("div",Ws,[o("div",Bs,[o("div",Ys,[o("small",Ms,[f(l,{name:"user",size:"xs",color:"#797575"}),b(" Your child fullname? "),qs]),x(o("input",{type:"text","onUpdate:modelValue":t[14]||(t[14]=v=>e.registration.secondary_name=v),class:A(["form-control",{"is-invalid":e.shouldShowError("secondary_name"),"is-valid":!e.shouldShowError("secondary_name")&&e.registration.secondary_name}]),onInput:t[15]||(t[15]=v=>e.touchField("secondary_name"))},null,34),[[J,e.registration.secondary_name]]),e.shouldShowError("secondary_name")?(k(),E("small",Hs,[f(l,{name:"info-circle",animation:"tada",size:"12px",color:"#d21414",className:"me-1"}),b(" "+P((D=e.validate.secondary_name.$silentErrors[0])==null?void 0:D.$message),1)])):S("",!0)]),o("div",Zs,[o("small",Js,[f(l,{name:"envelope",size:"xs",color:"#797575"}),b(" Your child email? ")]),x(o("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=v=>e.registration.secondary_email=v),class:A(["form-control",{"is-invalid":e.shouldShowError("secondary_email"),"is-valid":!e.shouldShowError("secondary_email")&&e.registration.secondary_email}]),onInput:t[17]||(t[17]=v=>e.touchField("secondary_email"))},null,34),[[J,e.registration.secondary_email]]),e.shouldShowError("secondary_email")?(k(),E("small",Ks,P((q=e.validate.secondary_email.$silentErrors[0])==null?void 0:q.$message),1)):S("",!0)]),o("div",Qs,[o("small",Xs,[f(l,{name:"phone",size:"xs",color:"#797575"}),b(" Your child number? ")]),x(o("input",{type:"tel","onUpdate:modelValue":t[18]||(t[18]=v=>e.registration.secondary_phone=v),class:A(["form-control",{"is-invalid":e.shouldShowError("secondary_phone"),"is-valid":!e.shouldShowError("secondary_phone")&&e.registration.secondary_phone}]),onInput:t[19]||(t[19]=v=>e.touchField("secondary_phone"))},null,34),[[J,e.registration.secondary_phone]]),e.shouldShowError("secondary_phone")?(k(),E("small",eo,P((H=e.validate.secondary_phone.$silentErrors[0])==null?void 0:H.$message),1)):S("",!0)]),o("div",to,[o("small",so,[f(l,{name:"school",type:"solid",size:"xs",color:"#797575"}),b(" What school does your child go to? "),oo]),f(d,{data:e.registration.school_id,onCheck:e.checkComponent,onNew:e.newData},null,8,["data","onCheck","onNew"]),e.shouldShowError("school_id")?(k(),E("small",no,[f(l,{name:"info-circle",animation:"tada",size:"12px",color:"#d21414",className:"me-1"}),b(" "+P((F=e.validate.school_id.$silentErrors[0])==null?void 0:F.$message),1)])):S("",!0)]),o("div",ao,[o("small",ro,[f(l,{name:"graduation",type:"solid",size:"xs",color:"#797575"}),b(" When do you expect your child to graduate high school? "),lo]),f(_,{data:e.registration.graduation_year,onCheck:e.checkComponent},null,8,["data","onCheck"]),e.shouldShowError("graduation_year")?(k(),E("small",io,P((U=e.validate.graduation_year.$silentErrors[0])==null?void 0:U.$message),1)):S("",!0)]),o("div",co,[o("small",uo,[f(l,{name:"flag-alt",type:"solid",size:"xs",color:"#797575"}),b(" Which country does your child interest in studying abroad? "),ho]),f(p,{data:e.registration.destination_country,onCheck:e.checkComponent},null,8,["data","onCheck"]),e.shouldShowError("destination_country")?(k(),E("small",mo,P((c=e.validate.destination_country.$silentErrors[0])==null?void 0:c.$message),1)):S("",!0)])])])):S("",!0)])):S("",!0),e.registration.role=="teacher/counsellor"?(k(),E("div",vo,[o("div",go,[o("small",fo,[f(l,{name:"school",type:"solid",size:"xs",color:"#797575"}),b(" Which school are you from? "),po]),f(d,{data:e.registration.school_id,onCheck:e.checkComponent,onNew:e.newData},null,8,["data","onCheck","onNew"]),e.shouldShowError("school_id")?(k(),E("small",yo,[f(l,{name:"info-circle",animation:"tada",size:"12px",color:"#d21414",className:"me-1"}),b(" "+P((m=e.validate.school_id.$silentErrors[0])==null?void 0:m.$message),1)])):S("",!0)])])):S("",!0),o("div",_o,[o("div",{class:A(e.status=="ots"?"col-md-9":"col-md-12")},[o("small",$o,[f(l,{name:"link",size:"xs",color:"#797575"}),b(" I know this event from "),bo]),f(R,{data:e.registration.lead_source_id,onCheck:e.checkComponent},null,8,["data","onCheck"]),e.shouldShowError("lead_source_id")?(k(),E("small",wo,[f(l,{name:"info-circle",animation:"tada",size:"12px",color:"#d21414",className:"me-1"}),b(" "+P((j=e.validate.lead_source_id.$silentErrors[0])==null?void 0:j.$message),1)])):S("",!0)],2),e.status=="ots"?(k(),E("div",ko,[o("small",Eo,[f(l,{name:"group",type:"solid",size:"xs",color:"#797575"}),b(" Number of Party "),Co]),x(o("input",{type:"number",min:"1",max:"5","onUpdate:modelValue":t[20]||(t[20]=v=>e.registration.attend_party=v),class:"form-control"},null,512),[[J,e.registration.attend_party]])])):S("",!0)])],2),o("div",Ro,[o("button",{class:"btn btn-sm btn-warning rounded-pill px-3",onClick:t[21]||(t[21]=v=>e.step=1),disabled:e.loading},[f(y,{icon:"fa-solid fa-arrow-left",class:"me-2"}),b(" Back ")],8,So),o("button",{class:"btn btn-sm btn-primary rounded-pill px-3",onClick:t[22]||(t[22]=(...v)=>e.nextProcess&&e.nextProcess(...v)),disabled:e.loading},[b(P(e.loading?"Waiting":"Submit")+" ",1),f(y,{icon:e.loading?"fa-solid fa-spinner":"fa-solid fa-save",class:"ms-2",pulse:e.loading},null,8,["icon","pulse"])],8,zo)])])):S("",!0)])])])])])],8,pt)}const No=ke(ft,[["render",Oo]]);export{No as default};
