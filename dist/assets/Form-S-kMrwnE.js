import{g as Ne,r as O,o as xe,w as X,i as le,a as ce,b as Le,c as z,d as Te,e as Ie,u as w,f as me,p as ve,n as ge,_ as Ee,h as Ce,j as Re,k as Y,l as E,m as R,q as f,s as o,F as Ae,t as De,v as S,x as Fe,y as Ue,z as se,A as P,B as A,C as b,D as L,E as J,G as oe,H as Ge,I as fe}from"./index-CwnO1Gzf.js";import{A as ie,S as We,C as Be,G as Ye,s as ne}from"./GraduationYear-nwcEpDIC.js";import{C as Me}from"./ClientEventService-ZeAPHePK.js";function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pe(Object(n),!0).forEach(function(s){qe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ye(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.keys(e).reduce((n,s)=>(t.includes(s)||(n[s]=w(e[s])),n),{})}function te(e){return typeof e=="function"}function He(e){return Te(e)||Ie(e)}function Se(e,t,n){let s=e;const i=t.split(".");for(let a=0;a<i.length;a++){if(!s[i[a]])return n;s=s[i[a]]}return s}function ae(e,t,n){return z(()=>e.some(s=>Se(t,s,{[n]:!1})[n]))}function _e(e,t,n){return z(()=>e.reduce((s,i)=>{const a=Se(t,i,{[n]:!1})[n]||[];return s.concat(a)},[]))}function ze(e,t,n,s){return e.call(s,w(t),w(n),s)}function Oe(e){return e.$valid!==void 0?!e.$valid:!e}function Ze(e,t,n,s,i,a,p){let{$lazy:d,$rewardEarly:l}=i,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],_=arguments.length>8?arguments[8]:void 0,y=arguments.length>9?arguments[9]:void 0,C=arguments.length>10?arguments[10]:void 0;const $=O(!!s.value),r=O(0);n.value=!1;const v=X([t,s].concat(c,C),()=>{if(d&&!s.value||l&&!y.value&&!n.value)return;let h;try{h=ze(e,t,_,p)}catch(k){h=Promise.reject(k)}r.value++,n.value=!!r.value,$.value=!1,Promise.resolve(h).then(k=>{r.value--,n.value=!!r.value,a.value=k,$.value=Oe(k)}).catch(k=>{r.value--,n.value=!!r.value,a.value=k,$.value=!0})},{immediate:!0,deep:typeof t=="object"});return{$invalid:$,$unwatch:v}}function Je(e,t,n,s,i,a,p,d){let{$lazy:l,$rewardEarly:c}=s;const _=()=>({}),y=z(()=>{if(l&&!n.value||c&&!d.value)return!1;let C=!0;try{const $=ze(e,t,p,a);i.value=$,C=Oe($)}catch($){i.value=$}return C});return{$unwatch:_,$invalid:y}}function Ke(e,t,n,s,i,a,p,d,l,c,_){const y=O(!1),C=e.$params||{},$=O(null);let r,v;e.$async?{$invalid:r,$unwatch:v}=Ze(e.$validator,t,y,n,s,$,i,e.$watchTargets,l,c,_):{$invalid:r,$unwatch:v}=Je(e.$validator,t,n,s,$,i,l,c);const h=e.$message;return{$message:te(h)?z(()=>h(ye({$pending:y,$invalid:r,$params:ye(C),$model:t,$response:$,$validator:a,$propertyPath:d,$property:p}))):h||"",$params:C,$pending:y,$invalid:r,$response:$,$unwatch:v}}function Qe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=w(e),n=Object.keys(t),s={},i={},a={};let p=null;return n.forEach(d=>{const l=t[d];switch(!0){case te(l.$validator):s[d]=l;break;case te(l):s[d]={$validator:l};break;case d==="$validationGroups":p=l;break;case d.startsWith("$"):a[d]=l;break;default:i[d]=l}}),{rules:s,nestedValidators:i,config:a,validationGroups:p}}const Xe="__root";function et(e,t,n,s,i,a,p,d,l){const c=Object.keys(e),_=s.get(i,e),y=O(!1),C=O(!1),$=O(0);if(_){if(!_.$partial)return _;_.$unwatch(),y.value=_.$dirty.value}const r={$dirty:y,$path:i,$touch:()=>{y.value||(y.value=!0)},$reset:()=>{y.value&&(y.value=!1)},$commit:()=>{}};return c.length?(c.forEach(v=>{r[v]=Ke(e[v],t,r.$dirty,a,p,v,n,i,l,C,$)}),r.$externalResults=z(()=>d.value?[].concat(d.value).map((v,h)=>({$propertyPath:i,$property:n,$validator:"$externalResults",$uid:`${i}-externalResult-${h}`,$message:v,$params:{},$response:null,$pending:!1})):[]),r.$invalid=z(()=>{const v=c.some(h=>w(r[h].$invalid));return C.value=v,!!r.$externalResults.value.length||v}),r.$pending=z(()=>c.some(v=>w(r[v].$pending))),r.$error=z(()=>r.$dirty.value?r.$pending.value||r.$invalid.value:!1),r.$silentErrors=z(()=>c.filter(v=>w(r[v].$invalid)).map(v=>{const h=r[v];return ce({$propertyPath:i,$property:n,$validator:v,$uid:`${i}-${v}`,$message:h.$message,$params:h.$params,$response:h.$response,$pending:h.$pending})}).concat(r.$externalResults.value)),r.$errors=z(()=>r.$dirty.value?r.$silentErrors.value:[]),r.$unwatch=()=>c.forEach(v=>{r[v].$unwatch()}),r.$commit=()=>{C.value=!0,$.value=Date.now()},s.set(i,e,r),r):(_&&s.set(i,e,r),r)}function tt(e,t,n,s,i,a,p){const d=Object.keys(e);return d.length?d.reduce((l,c)=>(l[c]=de({validations:e[c],state:t,key:c,parentKey:n,resultsCache:s,globalConfig:i,instance:a,externalResults:p}),l),{}):{}}function st(e,t,n){const s=z(()=>[t,n].filter(r=>r).reduce((r,v)=>r.concat(Object.values(w(v))),[])),i=z({get(){return e.$dirty.value||(s.value.length?s.value.every(r=>r.$dirty):!1)},set(r){e.$dirty.value=r}}),a=z(()=>{const r=w(e.$silentErrors)||[],v=s.value.filter(h=>(w(h).$silentErrors||[]).length).reduce((h,k)=>h.concat(...k.$silentErrors),[]);return r.concat(v)}),p=z(()=>{const r=w(e.$errors)||[],v=s.value.filter(h=>(w(h).$errors||[]).length).reduce((h,k)=>h.concat(...k.$errors),[]);return r.concat(v)}),d=z(()=>s.value.some(r=>r.$invalid)||w(e.$invalid)||!1),l=z(()=>s.value.some(r=>w(r.$pending))||w(e.$pending)||!1),c=z(()=>s.value.some(r=>r.$dirty)||s.value.some(r=>r.$anyDirty)||i.value),_=z(()=>i.value?l.value||d.value:!1),y=()=>{e.$touch(),s.value.forEach(r=>{r.$touch()})},C=()=>{e.$commit(),s.value.forEach(r=>{r.$commit()})},$=()=>{e.$reset(),s.value.forEach(r=>{r.$reset()})};return s.value.length&&s.value.every(r=>r.$dirty)&&y(),{$dirty:i,$errors:p,$invalid:d,$anyDirty:c,$error:_,$pending:l,$touch:y,$reset:$,$silentErrors:a,$commit:C}}function de(e){let{validations:t,state:n,key:s,parentKey:i,childResults:a,resultsCache:p,globalConfig:d={},instance:l,externalResults:c}=e;const _=i?`${i}.${s}`:s,{rules:y,nestedValidators:C,config:$,validationGroups:r}=Qe(t),v=M(M({},d),$),h=s?z(()=>{const j=w(n);return j?w(j[s]):void 0}):n,k=M({},w(c)||{}),D=z(()=>{const j=w(c);return s?j?w(j[s]):void 0:j}),q=et(y,h,s,p,_,v,l,D,n),V=tt(C,h,_,p,v,l,D),x={};r&&Object.entries(r).forEach(j=>{let[Z,B]=j;x[Z]={$invalid:ae(B,V,"$invalid"),$error:ae(B,V,"$error"),$pending:ae(B,V,"$pending"),$errors:_e(B,V,"$errors"),$silentErrors:_e(B,V,"$silentErrors")}});const{$dirty:F,$errors:U,$invalid:G,$anyDirty:Q,$error:H,$pending:I,$touch:W,$reset:g,$silentErrors:u,$commit:m}=st(q,V,a),N=s?z({get:()=>w(h),set:j=>{F.value=!0;const Z=w(n),B=w(c);B&&(B[s]=k[s]),le(Z[s])?Z[s].value=j:Z[s]=j}}):null;s&&v.$autoDirty&&X(h,()=>{F.value||W();const j=w(c);j&&(j[s]=k[s])},{flush:"sync"});async function he(){return W(),v.$rewardEarly&&(m(),await ge()),await ge(),new Promise(j=>{if(!I.value)return j(!G.value);const Z=X(I,()=>{j(!G.value),Z()})})}function Pe(j){return(a.value||{})[j]}function Ve(){le(c)?c.value=k:Object.keys(k).length===0?Object.keys(c).forEach(j=>{delete c[j]}):Object.assign(c,k)}return ce(M(M(M({},q),{},{$model:N,$dirty:F,$error:H,$errors:U,$invalid:G,$anyDirty:Q,$pending:I,$touch:W,$reset:g,$path:_||Xe,$silentErrors:u,$validate:he,$commit:m},a&&{$getResultsForChild:Pe,$clearExternalResults:Ve,$validationGroups:x}),V))}class ot{constructor(){this.storage=new Map}set(t,n,s){this.storage.set(t,{rules:n,result:s})}checkRulesValidity(t,n,s){const i=Object.keys(s),a=Object.keys(n);return a.length!==i.length||!a.every(d=>i.includes(d))?!1:a.every(d=>n[d].$params?Object.keys(n[d].$params).every(l=>w(s[d].$params[l])===w(n[d].$params[l])):!0)}get(t,n){const s=this.storage.get(t);if(!s)return;const{rules:i,result:a}=s,p=this.checkRulesValidity(t,n,i),d=a.$unwatch?a.$unwatch:()=>({});return p?a:{$dirty:a.$dirty,$partial:!0,$unwatch:d}}}const ee={COLLECT_ALL:!0,COLLECT_NONE:!1},$e=Symbol("vuelidate#injectChildResults"),be=Symbol("vuelidate#removeChildResults");function nt(e){let{$scope:t,instance:n}=e;const s={},i=O([]),a=z(()=>i.value.reduce((_,y)=>(_[y]=w(s[y]),_),{}));function p(_,y){let{$registerAs:C,$scope:$,$stopPropagation:r}=y;r||t===ee.COLLECT_NONE||$===ee.COLLECT_NONE||t!==ee.COLLECT_ALL&&t!==$||(s[C]=_,i.value.push(C))}n.__vuelidateInjectInstances=[].concat(n.__vuelidateInjectInstances||[],p);function d(_){i.value=i.value.filter(y=>y!==_),delete s[_]}n.__vuelidateRemoveInstances=[].concat(n.__vuelidateRemoveInstances||[],d);const l=me($e,[]);ve($e,n.__vuelidateInjectInstances);const c=me(be,[]);return ve(be,n.__vuelidateRemoveInstances),{childResults:a,sendValidationResultsToParent:l,removeValidationResultsFromParent:c}}function je(e){return new Proxy(e,{get(t,n){return typeof t[n]=="object"?je(t[n]):z(()=>t[n])}})}let we=0;function at(e,t){var n;let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};arguments.length===1&&(s=e,e=void 0,t=void 0);let{$registerAs:i,$scope:a=ee.COLLECT_ALL,$stopPropagation:p,$externalResults:d,currentVueInstance:l}=s;const c=l||((n=Ne())===null||n===void 0?void 0:n.proxy),_=c?c.$options:{};i||(we+=1,i=`_vuelidate_${we}`);const y=O({}),C=new ot,{childResults:$,sendValidationResultsToParent:r,removeValidationResultsFromParent:v}=c?nt({$scope:a,instance:c}):{childResults:O({})};if(!e&&_.validations){const h=_.validations;t=O({}),xe(()=>{t.value=c,X(()=>te(h)?h.call(t.value,new je(t.value)):h,k=>{y.value=de({validations:k,state:t,childResults:$,resultsCache:C,globalConfig:s,instance:c,externalResults:d||c.vuelidateExternalResults})},{immediate:!0})}),s=_.validationsConfig||s}else{const h=le(e)||He(e)?e:ce(e||{});X(h,k=>{y.value=de({validations:k,state:t,childResults:$,resultsCache:C,globalConfig:s,instance:c??{},externalResults:d})},{immediate:!0})}return c&&(r.forEach(h=>h(y,{$registerAs:i,$scope:a,$stopPropagation:p})),Le(()=>v.forEach(h=>h(i)))),z(()=>M(M({},w(y.value)),$.value))}const ue=e=>{if(e=w(e),Array.isArray(e))return!!e.length;if(e==null)return!1;if(e===!1)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(let t in e)return!0;return!1}return!!String(e).length},rt=e=>(e=w(e),Array.isArray(e)?e.length:typeof e=="object"?Object.keys(e).length:String(e).length);function K(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s=>(s=w(s),!ue(s)||t.every(i=>(i.lastIndex=0,i.test(s))))}K(/^[a-zA-Z]*$/);K(/^[a-zA-Z0-9]*$/);K(/^\d*(\.\d+)?$/);const lt=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var it=K(lt),ke={$validator:it,$message:"Value is not a valid email address",$params:{type:"email"}};function dt(e){return t=>!ue(t)||rt(t)>=w(e)}function re(e){return{$validator:dt(e),$message:t=>{let{$params:n}=t;return`This field should be at least ${n.min} characters long`},$params:{min:e,type:"minLength"}}}function ct(e){return typeof e=="string"&&(e=e.trim()),ue(e)}var T={$validator:ct,$message:"Value is required",$params:{type:"required"}};const ut=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;K(ut);K(/(^[0-9]*$)|(^-[0-9]+$)/);K(/^[-]?\d*(\.\d+)?$/);const ht=Ce({name:"lead-input",props:{data:String},setup(e,{emit:t}){const n=O(!1),s=O(),i=O(),a=async()=>{n.value=!0;const d="v1/get/leads";try{n.value=!1;const l=await ie.get(d);i.value=l.data,s.value=e.data}catch(l){n.value=!1,console.error(l)}},p=()=>{t("check",{key:"lead_source_id",value:s.value})};return Re(()=>{a()}),{loading:n,selected_data:s,lead_list:i,selectData:p}}});function mt(e,t,n,s,i,a){const p=Y("v-select");return E(),R("div",null,[f(p,{modelValue:e.selected_data,"onUpdate:modelValue":t[0]||(t[0]=d=>e.selected_data=d),options:e.lead_list,reduce:d=>d.lead_id,label:"lead","onOption:selected":e.selectData,clearable:!1,placeholder:"Select the value",loading:e.loading},null,8,["modelValue","options","reduce","onOption:selected","loading"])])}const vt=Ee(ht,[["render",mt]]),gt="/img/student.avif",ft="/img/parent.jpg",pt="/img/teacher.avif",yt=Ce({name:"form-event",props:{formType:String,eventId:String,eventType:String,status:String,attendStatus:String,type:String},components:{School:We,LeadSource:vt,Country:Be,GraduationYear:Ye},setup(e){const t=O(null),n=O(1),s=O(!1),i=O("bg.jpg"),a=O({role:"student",fullname:"",mail:"",phone:"",secondary_name:"",secondary_email:"",secondary_phone:"",school_id:"",other_school:"",graduation_year:"",destination_country:[],scholarship:"N",lead_source_id:"",event_id:"",attend_status:"",attend_party:1,event_type:"",status:"PR",referral:"",client_type:"",have_child:!1}),p=O(),d=O(),l=z(()=>({fullname:{required:T,minLength:re(3)},mail:{required:T,email:ke},phone:{required:T,minLength:re(10)},role:{required:T},secondary_name:{required:T},secondary_email:{email:ke},secondary_phone:{minLength:re(5)},school_id:{required:T},graduation_year:{required:T},destination_country:{required:T},scholarship:{required:T},lead_source_id:{required:T}})),c=O([{value:"Y",label:"Yes"},{value:"N",label:"No"}]),_=(u=null)=>{D(u==null?void 0:u.key),a.value[u.key]=u==null?void 0:u.value,U()},y=u=>{a.value[u==null?void 0:u.key]=u==null?void 0:u.value},C=["fullname","mail","phone","role"],$=["school_id","graduation_year","destination_country","scholarship","lead_source_id"],r=["secondary_name","school_id","graduation_year","destination_country","scholarship","lead_source_id"],v=["lead_source_id"],h=["school_id","lead_source_id"],k=at(l,a),D=u=>{k.value[u].$touch(),(u=="phone"||u=="secondary_phone")&&F(u),U()},q=u=>{i.value=u,a.value.role=="parent"?a.value.have_child=!0:(a.value.secondary_name="",a.value.secondary_email="",a.value.secondary_phone="",a.value.have_child=!1)},V=u=>k.value[u].$error,x=u=>{let m=[];return u.forEach(N=>{k.value[N].$validate(),k.value[N].$invalid?m.push(!1):m.push(!0)}),!m.includes(!1)},F=u=>{const N=a.value[u].toString().replace(/(\d{4})(\d{4})(\d{2,4})/,"$1-$2-$3");a.value[u]=N},U=()=>{const u=[];for(let m=0;m<C.length;m++)a.value[C[m]]?V(C[m])?u.push(0):u.push(50/C.length,0):u.push(0);if(n.value==2){let m=[];switch(a.value.role){case"parent":a.value.have_child?m=r:m=v;break;case"teacher/counsellor":m=h;break;case"student":m=$;break}for(let N=0;N<m.length;N++)a.value[m[N]]?V(m[N])?u.push(0):u.push(50/m.length,0):u.push(0)}t.value=u.reduce((m,N)=>m+N,0)},G=()=>{if(U(),s.value=!0,x(C))switch(n.value=2,a.value.role){case"parent":i.value="parent.jpg";break;case"teacher/counsellor":i.value="teacher.avif";break;case"student":i.value="student.avif";break}setTimeout(()=>{s.value=!1},500)},Q=()=>{const u=a.value.role;var m=!1;switch(u){case"parent":a.value.have_child?m=x(r):m=x(v);break;case"teacher/counsellor":m=x(h);break;case"student":m=x($);break}m&&H()},H=async()=>{s.value=!0;const u="v1/register/event";try{const m=await ie.post(u,a.value);console.log(m),m.success?(ne("success",m.message),setTimeout(()=>{Me.saveClientEvent(m),fe.push({name:"thanks-event",params:{status:a.value.status=="PR"?"pra-reg":"ots",type:e.type=="onsite"?"onsite":"self"}}),g()},2e3)):(p.value=m.error,ne("error",m.message?m.message:"Please check errors by clicking the bottom right button")),s.value=!1}catch(m){console.error(m),s.value=!1}},I=async()=>{const u="v1/event/"+a.value.event_id;try{const m=await ie.get(u);m.success?d.value=m.data:(ne("error",m.message),setTimeout(()=>{fe.push({name:"NotFound"})},2e3))}catch(m){console.error(m)}},W=()=>{var u;a.value.event_id=e==null?void 0:e.eventId,a.value.event_type=e.eventType?e==null?void 0:e.eventType:null,a.value.status=e.status?(u=e==null?void 0:e.status)==null?void 0:u.toUpperCase():"PR",a.value.attend_status=e.attendStatus?e==null?void 0:e.attendStatus:null},g=()=>{a.value.role="student",a.value.fullname="",a.value.mail="",a.value.phone="",a.value.secondary_name="",a.value.secondary_email="",a.value.secondary_phone="",a.value.school_id="",a.value.other_school="",a.value.graduation_year="",a.value.destination_country=[],a.value.scholarship="N",a.value.lead_source_id="",a.value.event_id="",a.value.attend_status="",a.value.attend_party="",a.value.event_type="",a.value.status="PR",a.value.referral="",a.value.client_type="",a.value.have_child=!1};return Re(()=>{W(),I()}),{step:n,loading:s,errors:p,progress:t,registration:a,scholarship_list:c,rules:l,validate:k,bg_registration:i,event:d,checkRole:q,checkComponent:_,newData:y,touchField:D,shouldShowError:V,nextAdditional:G,nextProcess:Q,submit:H,getEvent:I}}}),_t=["id"],$t={class:"container"},bt={class:"row justify-content-center align-items-center",style:{"min-height":"100dvh"}},wt={class:"position-fixed",style:{bottom:"2%",left:"95%","z-index":"9999"}},kt={key:0,class:"dropdown"},Et={class:"btn btn-danger btn-sm dropdown-toggle",style:{"font-size":"10px"},type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},Ct={class:"dropdown-menu"},Rt={class:"col-md-12"},St={class:"text-end"},zt={class:"btn btn-sm btn-outline-primary mb-2"},Ot={class:"row justify-content-center align-items-stretch g-1"},jt={key:0,class:"col-md-4 col-form"},Pt={class:"progress rounded-pill m-2",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100",style:{height:"4px"}},Vt={class:"card-body p-0 d-flex align-items-end justify-content-center"},Nt={class:"w-100 d-flex align-items-center justify-content-center py-2 rounded",style:{background:"#251b815b"}},xt={class:"text-white text-center px-3"},Lt={class:"col-md-8"},Tt={key:0,class:"progress rounded-pill",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100",style:{height:"4px"}},It={key:1,class:"card rounded-0 shadow"},At={class:"p-3 d-flex align-items-center justify-content-between"},Dt=o("h3",{class:"my-0"},"Let us know you better!",-1),Ft={class:"text-muted"},Ut={class:"row g-3"},Gt={class:"col-md-4"},Wt={class:"text-muted label"},Bt=o("span",{class:"text-danger"},"*",-1),Yt={key:0,class:"text-danger error"},Mt={class:"col-md-4"},qt={class:"text-muted label"},Ht=o("span",{class:"text-danger"},"*",-1),Zt={key:0,class:"text-danger error"},Jt={class:"col-md-4"},Kt={class:"text-muted label"},Qt=o("span",{class:"text-danger"},"*",-1),Xt={key:0,class:"text-danger error"},es={class:"col-md-12 mt-3"},ts=o("label",{class:"text-muted"},[b("You are a "),o("span",{class:"text-danger"},"*")],-1),ss={key:0,class:"text-danger error"},os={class:"row g-3"},ns={class:"col"},as={class:"role"},rs=o("img",{src:gt,alt:"student"},null,-1),ls=o("label",{class:"role-label",for:"studentRole"}," Student ",-1),is={class:"col"},ds={class:"role"},cs=o("img",{src:ft,alt:"parent"},null,-1),us=o("label",{class:"role-label",for:"parentRole"}," Parent ",-1),hs={class:"col"},ms={class:"role"},vs=o("img",{src:pt,alt:"teacher"},null,-1),gs=o("label",{class:"role-label",for:"teacherRole"}," Teacher ",-1),fs={class:"card-footer d-flex align-items-center justify-content-end"},ps=["disabled"],ys={key:2,class:"card shadow"},_s={class:"p-3 d-flex align-items-center justify-content-between"},$s=o("h3",{class:"my-0"},"Let us know you better!",-1),bs={class:"text-muted label"},ws={key:0,class:"row g-3"},ks={class:"col-md-12"},Es={class:"text-muted label"},Cs=o("span",{class:"text-danger"},"*",-1),Rs={key:0,class:"text-danger error"},Ss={class:"col-md-12"},zs={class:"text-muted label"},Os=o("span",{class:"text-danger"},"*",-1),js={key:0,class:"text-danger error"},Ps={class:"col-md-12"},Vs={class:"text-muted label"},Ns=o("span",{class:"text-danger"},"*",-1),xs={key:0,class:"text-danger error"},Ls={key:1,class:"row g-3"},Ts={class:"col-md-12"},Is={class:"row"},As={class:"col-9"},Ds={class:"text-muted label"},Fs=o("strong",null,"Do you have a child?",-1),Us={class:"col-3 d-flex justify-content-end"},Gs={class:"form-check form-switch"},Ws=["checked"],Bs=o("label",{class:"form-check-label",for:"haveChild"},null,-1),Ys={key:0,class:"col-md-12"},Ms={class:"row g-3"},qs={class:"col-md-4"},Hs={class:"text-muted label"},Zs=o("span",{class:"text-danger"},"*",-1),Js={key:0,class:"text-danger error"},Ks={class:"col-md-4"},Qs={class:"text-muted label"},Xs={key:0,class:"text-danger error"},eo={class:"col-md-4"},to={class:"text-muted label"},so={key:0,class:"text-danger error"},oo={class:"col-md-12"},no={class:"text-muted label"},ao=o("span",{class:"text-danger"},"*",-1),ro={key:0,class:"text-danger error"},lo={class:"col-md-12"},io={class:"text-muted label"},co=o("span",{class:"text-danger"},"*",-1),uo={key:0,class:"text-danger error"},ho={class:"col-md-12"},mo={class:"text-muted label"},vo=o("span",{class:"text-danger"},"*",-1),go={key:0,class:"text-danger error"},fo={key:2,class:"row g-3"},po={class:"col-md-12"},yo={class:"text-muted label"},_o=o("span",{class:"text-danger"},"*",-1),$o={key:0,class:"text-danger error"},bo={class:"row mt-3"},wo={class:"text-muted label"},ko=o("span",{class:"text-danger"},"*",-1),Eo={key:0,class:"text-danger error"},Co={key:0,class:"col-md-3"},Ro={class:"text-muted label"},So=o("span",{class:"text-danger"},"*",-1),zo={class:"card-footer d-flex align-items-center justify-content-between"},Oo=["disabled"],jo=["disabled"];function Po(e,t,n,s,i,a){var $,r,v,h,k,D,q,V,x,F,U,G,Q,H,I,W;const p=Y("font-awesome-icon"),d=Y("router-link"),l=Y("box-icon"),c=Y("School"),_=Y("GraduationYear"),y=Y("Country"),C=Y("LeadSource");return E(),R("div",{id:e.formType=="cta"?"registration":""},[o("div",$t,[o("div",bt,[o("div",wt,[e.errors?(E(),R("div",kt,[o("button",Et,[f(p,{icon:"fa-info-circle",class:""})]),o("ul",Ct,[(E(!0),R(Ae,null,De(e.errors,g=>(E(),R("li",{key:g,class:"dropdown-item my-0 py-0"},[f(p,{icon:"fa-info",class:"text-warning me-2"}),b(" "+P(g[0]),1)]))),128))])])):S("",!0)]),o("div",Rt,[o("div",St,[e.status=="ots"&&e.type=="onsite"?(E(),Fe(d,{key:0,to:{name:"home"}},{default:Ue(()=>[o("div",zt,[f(p,{icon:"fa-home",class:"me-2"}),b(" Back to Home ")])]),_:1})):S("",!0)]),o("div",Ot,[e.formType=="cta"?(E(),R("div",jt,[o("div",{class:"card h-100 bg-form rounded shadow",style:se("background: url(/img/"+e.bg_registration+")")},[o("div",Pt,[o("div",{class:"progress-bar bg-success",style:se("width:"+e.progress+"%")},null,4)]),o("div",Vt,[o("div",Nt,[o("h5",xt,P(($=e.event)==null?void 0:$.event_name),1)])])],4)])):S("",!0),o("div",Lt,[e.formType!="cta"?(E(),R("div",Tt,[o("div",{class:"progress-bar bg-success",style:se("width:"+e.progress+"%")},null,4)])):S("",!0),e.step==1?(E(),R("div",It,[o("div",At,[Dt,o("small",Ft,"Page "+P(e.step)+" of 2",1)]),o("div",{class:A(["card-body",{"registration-card":e.formType=="cta"}])},[o("div",Ut,[o("div",Gt,[o("small",Wt,[f(l,{name:"user-rectangle",type:"solid",size:"xs",color:"#797575"}),b(" Full Name "),Bt]),L(o("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=g=>e.registration.fullname=g),class:A(["form-control",{"is-invalid":e.shouldShowError("fullname"),"is-valid":!e.shouldShowError("fullname")&&e.registration.fullname}]),onInput:t[1]||(t[1]=g=>e.touchField("fullname"))},null,34),[[J,e.registration.fullname]]),e.shouldShowError("fullname")?(E(),R("small",Yt,[f(l,{name:"info-circle",animation:"tada",size:"12px",color:"#d21414",className:"me-1"}),b(" "+P((r=e.validate.fullname.$silentErrors[0])==null?void 0:r.$message),1)])):S("",!0)]),o("div",Mt,[o("small",qt,[f(l,{name:"envelope",size:"xs",color:"#797575"}),b(" Email "),Ht]),L(o("input",{type:"email","onUpdate:modelValue":t[2]||(t[2]=g=>e.registration.mail=g),class:A(["form-control",{"is-invalid":e.shouldShowError("mail"),"is-valid":!e.shouldShowError("mail")&&e.registration.mail}]),onInput:t[3]||(t[3]=g=>e.touchField("mail"))},null,34),[[J,e.registration.mail]]),e.shouldShowError("mail")?(E(),R("small",Zt,[f(l,{name:"info-circle",animation:"tada",size:"12px",color:"#d21414",className:"me-1"}),b(" "+P((v=e.validate.mail.$silentErrors[0])==null?void 0:v.$message),1)])):S("",!0)]),o("div",Jt,[o("small",Kt,[f(l,{name:"mobile",size:"xs",color:"#797575"}),b(" Phone "),Qt]),L(o("input",{type:"tel","onUpdate:modelValue":t[4]||(t[4]=g=>e.registration.phone=g),class:A(["form-control",{"is-invalid":e.shouldShowError("phone"),"is-valid":!e.shouldShowError("phone")&&e.registration.phone}]),onInput:t[5]||(t[5]=g=>e.touchField("phone"))},null,34),[[J,e.registration.phone]]),e.shouldShowError("phone")?(E(),R("small",Xt,[f(l,{name:"info-circle",animation:"tada",size:"12px",color:"#d21414",className:"me-1"}),b(" "+P((h=e.validate.phone.$silentErrors[0])==null?void 0:h.$message),1)])):S("",!0)]),o("div",es,[ts,e.shouldShowError("role")?(E(),R("small",ss,[f(l,{name:"info-circle",animation:"tada",size:"12px",color:"#d21414",className:"me-1"}),b(" "+P((k=e.validate.role.$silentErrors[0])==null?void 0:k.$message),1)])):S("",!0),o("div",os,[o("div",ns,[o("div",as,[rs,L(o("input",{class:"role-input",type:"radio",name:"role","onUpdate:modelValue":t[6]||(t[6]=g=>e.registration.role=g),value:"student",id:"studentRole",onChange:t[7]||(t[7]=g=>e.checkRole("student.avif"))},null,544),[[oe,e.registration.role]]),ls])]),o("div",is,[o("div",ds,[cs,L(o("input",{class:"role-input",type:"radio",name:"role",id:"parentRole","onUpdate:modelValue":t[8]||(t[8]=g=>e.registration.role=g),value:"parent",onChange:t[9]||(t[9]=g=>e.checkRole("parent.jpg"))},null,544),[[oe,e.registration.role]]),us])]),o("div",hs,[o("div",ms,[vs,L(o("input",{class:"role-input",type:"radio",name:"role",id:"teacherRole","onUpdate:modelValue":t[10]||(t[10]=g=>e.registration.role=g),value:"teacher/counsellor",onChange:t[11]||(t[11]=g=>e.checkRole("teacher.avif"))},null,544),[[oe,e.registration.role]]),gs])])])])])],2),o("div",fs,[o("button",{class:"btn btn-sm btn-primary rounded-pill px-3",onClick:t[12]||(t[12]=(...g)=>e.nextAdditional&&e.nextAdditional(...g)),disabled:e.loading},[b(P(e.loading?"Waiting":"Next")+" ",1),f(p,{icon:e.loading?"fa-solid fa-spinner":"fa-solid fa-arrow-right",class:"ms-2",pulse:e.loading},null,8,["icon","pulse"])],8,ps)])])):S("",!0),e.step==2?(E(),R("div",ys,[o("div",_s,[$s,o("small",bs,[f(l,{name:"right-arrow-alt",size:"xs",color:"#797575"}),b(" Page "+P(e.step)+" of 2",1)])]),o("div",{class:A(["card-body",{"registration-card":e.formType=="cta"}])},[e.registration.role=="student"?(E(),R("div",ws,[o("div",ks,[o("small",Es,[f(l,{name:"school",type:"solid",size:"xs",color:"#797575"}),b(" Which school are you from? "),Cs]),f(c,{data:e.registration.school_id,onCheck:e.checkComponent,onNew:e.newData},null,8,["data","onCheck","onNew"]),e.shouldShowError("school_id")?(E(),R("small",Rs,[f(l,{name:"info-circle",animation:"tada",size:"12px",color:"#d21414",className:"me-1"}),b(" "+P((D=e.validate.school_id.$silentErrors[0])==null?void 0:D.$message),1)])):S("",!0)]),o("div",Ss,[o("small",zs,[f(l,{name:"graduation",type:"solid",size:"xs",color:"#797575"}),b(" When do you expect to graduate high school? "),Os]),f(_,{data:e.registration.graduation_year,onCheck:e.checkComponent},null,8,["data","onCheck"]),e.shouldShowError("graduation_year")?(E(),R("small",js,[f(l,{name:"info-circle",animation:"tada",size:"12px",color:"#d21414",className:"me-1"}),b(" "+P((q=e.validate.graduation_year.$silentErrors[0])==null?void 0:q.$message),1)])):S("",!0)]),o("div",Ps,[o("small",Vs,[f(l,{name:"flag-alt",type:"solid",size:"xs",color:"#797575"}),b(" Which country are you thinking of studying in? "),Ns]),f(y,{data:e.registration.destination_country,onCheck:e.checkComponent},null,8,["data","onCheck"]),e.shouldShowError("destination_country")?(E(),R("small",xs,P((V=e.validate.destination_country.$silentErrors[0])==null?void 0:V.$message),1)):S("",!0)])])):S("",!0),e.registration.role=="parent"?(E(),R("div",Ls,[o("div",Ts,[o("div",Is,[o("div",As,[o("small",Ds,[f(l,{name:"child",size:"15px",color:"#797575"}),Fs])]),o("div",Us,[o("div",Gs,[L(o("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"haveChild","onUpdate:modelValue":t[13]||(t[13]=g=>e.registration.have_child=g),checked:e.registration.have_child},null,8,Ws),[[Ge,e.registration.have_child]]),Bs])])])]),e.registration.have_child?(E(),R("div",Ys,[o("div",Ms,[o("div",qs,[o("small",Hs,[f(l,{name:"user",size:"xs",color:"#797575"}),b(" Your child fullname? "),Zs]),L(o("input",{type:"text","onUpdate:modelValue":t[14]||(t[14]=g=>e.registration.secondary_name=g),class:A(["form-control",{"is-invalid":e.shouldShowError("secondary_name"),"is-valid":!e.shouldShowError("secondary_name")&&e.registration.secondary_name}]),onInput:t[15]||(t[15]=g=>e.touchField("secondary_name"))},null,34),[[J,e.registration.secondary_name]]),e.shouldShowError("secondary_name")?(E(),R("small",Js,[f(l,{name:"info-circle",animation:"tada",size:"12px",color:"#d21414",className:"me-1"}),b(" "+P((x=e.validate.secondary_name.$silentErrors[0])==null?void 0:x.$message),1)])):S("",!0)]),o("div",Ks,[o("small",Qs,[f(l,{name:"envelope",size:"xs",color:"#797575"}),b(" Your child email? ")]),L(o("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=g=>e.registration.secondary_email=g),class:A(["form-control",{"is-invalid":e.shouldShowError("secondary_email"),"is-valid":!e.shouldShowError("secondary_email")&&e.registration.secondary_email}]),onInput:t[17]||(t[17]=g=>e.touchField("secondary_email"))},null,34),[[J,e.registration.secondary_email]]),e.shouldShowError("secondary_email")?(E(),R("small",Xs,P((F=e.validate.secondary_email.$silentErrors[0])==null?void 0:F.$message),1)):S("",!0)]),o("div",eo,[o("small",to,[f(l,{name:"phone",size:"xs",color:"#797575"}),b(" Your child number? ")]),L(o("input",{type:"tel","onUpdate:modelValue":t[18]||(t[18]=g=>e.registration.secondary_phone=g),class:A(["form-control",{"is-invalid":e.shouldShowError("secondary_phone"),"is-valid":!e.shouldShowError("secondary_phone")&&e.registration.secondary_phone}]),onInput:t[19]||(t[19]=g=>e.touchField("secondary_phone"))},null,34),[[J,e.registration.secondary_phone]]),e.shouldShowError("secondary_phone")?(E(),R("small",so,P((U=e.validate.secondary_phone.$silentErrors[0])==null?void 0:U.$message),1)):S("",!0)]),o("div",oo,[o("small",no,[f(l,{name:"school",type:"solid",size:"xs",color:"#797575"}),b(" What school does your child go to? "),ao]),f(c,{data:e.registration.school_id,onCheck:e.checkComponent,onNew:e.newData},null,8,["data","onCheck","onNew"]),e.shouldShowError("school_id")?(E(),R("small",ro,[f(l,{name:"info-circle",animation:"tada",size:"12px",color:"#d21414",className:"me-1"}),b(" "+P((G=e.validate.school_id.$silentErrors[0])==null?void 0:G.$message),1)])):S("",!0)]),o("div",lo,[o("small",io,[f(l,{name:"graduation",type:"solid",size:"xs",color:"#797575"}),b(" When do you expect your child to graduate high school? "),co]),f(_,{data:e.registration.graduation_year,onCheck:e.checkComponent},null,8,["data","onCheck"]),e.shouldShowError("graduation_year")?(E(),R("small",uo,P((Q=e.validate.graduation_year.$silentErrors[0])==null?void 0:Q.$message),1)):S("",!0)]),o("div",ho,[o("small",mo,[f(l,{name:"flag-alt",type:"solid",size:"xs",color:"#797575"}),b(" Which country does your child interest in studying abroad? "),vo]),f(y,{data:e.registration.destination_country,onCheck:e.checkComponent},null,8,["data","onCheck"]),e.shouldShowError("destination_country")?(E(),R("small",go,P((H=e.validate.destination_country.$silentErrors[0])==null?void 0:H.$message),1)):S("",!0)])])])):S("",!0)])):S("",!0),e.registration.role=="teacher/counsellor"?(E(),R("div",fo,[o("div",po,[o("small",yo,[f(l,{name:"school",type:"solid",size:"xs",color:"#797575"}),b(" Which school are you from? "),_o]),f(c,{data:e.registration.school_id,onCheck:e.checkComponent,onNew:e.newData},null,8,["data","onCheck","onNew"]),e.shouldShowError("school_id")?(E(),R("small",$o,[f(l,{name:"info-circle",animation:"tada",size:"12px",color:"#d21414",className:"me-1"}),b(" "+P((I=e.validate.school_id.$silentErrors[0])==null?void 0:I.$message),1)])):S("",!0)])])):S("",!0),o("div",bo,[o("div",{class:A(e.status=="ots"?"col-md-9":"col-md-12")},[o("small",wo,[f(l,{name:"link",size:"xs",color:"#797575"}),b(" I know this event from "),ko]),f(C,{data:e.registration.lead_source_id,onCheck:e.checkComponent},null,8,["data","onCheck"]),e.shouldShowError("lead_source_id")?(E(),R("small",Eo,[f(l,{name:"info-circle",animation:"tada",size:"12px",color:"#d21414",className:"me-1"}),b(" "+P((W=e.validate.lead_source_id.$silentErrors[0])==null?void 0:W.$message),1)])):S("",!0)],2),e.status=="ots"?(E(),R("div",Co,[o("small",Ro,[f(l,{name:"group",type:"solid",size:"xs",color:"#797575"}),b(" Number of Party "),So]),L(o("input",{type:"number",min:"1",max:"5","onUpdate:modelValue":t[20]||(t[20]=g=>e.registration.attend_party=g),class:"form-control"},null,512),[[J,e.registration.attend_party]])])):S("",!0)])],2),o("div",zo,[o("button",{class:"btn btn-sm btn-warning rounded-pill px-3",onClick:t[21]||(t[21]=g=>e.step=1),disabled:e.loading},[f(p,{icon:"fa-solid fa-arrow-left",class:"me-2"}),b(" Back ")],8,Oo),o("button",{class:"btn btn-sm btn-primary rounded-pill px-3",onClick:t[22]||(t[22]=(...g)=>e.nextProcess&&e.nextProcess(...g)),disabled:e.loading},[b(P(e.loading?"Waiting":"Submit")+" ",1),f(p,{icon:e.loading?"fa-solid fa-spinner":"fa-solid fa-save",class:"ms-2",pulse:e.loading},null,8,["icon","pulse"])],8,jo)])])):S("",!0)])])])])])],8,_t)}const Lo=Ee(yt,[["render",Po]]);export{Lo as default};
